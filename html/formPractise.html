<!DOCTYPE html>
<!--suppress ALL -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Form Practise</title>
    
    <style>
        .selected, .highlight {
            background-color: #8a6d3b;
        }
        
        .group {
            background: #23487a;
        }
        
        li{
            list-style-type: none;
            display: inline;
        }
    </style>
</head>

<body>
<form id="regForm">
    <fieldset>
        <legend>个人基本信息</legend>
        <div>
            <label for="username">名称</label>
            <input id="username" type="text">
        </div>
        
        <div>
            <label for="password">名称</label>
            <input id="password" type="password">
        </div>
        
        <div class="msg">
            <div id="msgCaption">
                <span class="bigger">增大</span>
                <span class="smaller">减小</span>
                <span class="up">向上</span>
                <span class="down">向下</span>
            </div>
            
            <div id="msgBody">
                <label for="info">名称</label>
                <textarea rows="8" cols="20" id="info">设计一张表，根据数据的特点来选择不同的数据源. 电子商务中的端口的属性数据。 思考： 设计一张表，存放
                    数据格式，有Key/value结构，有bson格式，还有列格式。我们来思考一下， 你了解了这么多数据库，属性扩展表的设计
                    数据格式，有Key/value结构，有bson格式，还有列格式。我们来思考一下， 你了解了这么多数据库，属性扩展表的设计
                    数据格式，有Key/value结构，有bson格式，还有列格式。我们来思考一下， 你了解了这么多数据库，属性扩展表的设计
                    数据格式，有Key/value结构，有bson格式，还有列格式。我们来思考一下， 你了解了这么多数据库，属性扩展表的设计
                    数据格式，有Key/value结构，有bson格式，还有列格式。我们来思考一下， 你了解了这么多数据库，属性扩展表的设计
                    数据格式，有Key/value结构，有bson格式，还有列格式。我们来思考一下， 你了解了这么多数据库，属性扩展表的设计
                    数据格式，有Key/value结构，有bson格式，还有列格式。我们来思考一下， 你了解了这么多数据库，属性扩展表的设计
                    数据格式，有Key/value结构，有bson格式，还有列格式。我们来思考一下， 你了解了这么多数据库，属性扩展表的设计
                </textarea>
            </div>
            
            <div id="hobby">
                你的爱好是: <br>
                
                <input type="checkbox" value="basketball" name="iterm"/>篮球
                <input type="checkbox" value="football" name="iterm"/>足球
                <input type="checkbox" value="tennis" name="iterm"/>网球
                <input type="checkbox" value="swim" name="iterm"/>游泳
                
                <input type="checkbox" id="checkAll"/>全选
                <input type="checkbox" id="checkNone"/>全不选
                <input type="button" id="checkNot"/>反选
                <input type="button" id="submit"/>提交
            </div>
            
            <div>
                <div class="content">
                    <select id="select" multiple style="width: 100px; height: 160px">
                        <option value="1">选项1</option>
                        <option value="2">选项2</option>
                        <option value="3">选项3</option>
                        <option value="4">选项4</option>
                        <option value="5">选项5</option>
                        <option value="6">选项6</option>
                        <option value="7">选项7</option>
                        <option value="8">选项8</option>
                    </select>
                    
                    <div>
                        <span id="add">添加到右边&gt;&gt;</span>
                        <span id="addAll">全部添加到右边&gt;&gt;</span>
                    </div>
                </div>
                
                <div class="content">
                    <select id="select2" multiple style="width: 100px; height: 160px">
                    </select>
                    
                    <div>
                        <span id="remove">删除到左边&lt;&lt;</span>
                        <span id="removeAll">全部删除到左边&lt;&lt;</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div>
            <form id="testForm" action="" method="post">
                <div class="int">
                    <label for="username">用户名:</label>
                    <input type="text" id="username" class="required"/>
                </div>
                
                <div class="int">
                    <label for="email">邮箱:</label>
                    <input type="text" id="email" class="required"/>
                </div>
                
                <div class="int">
                    <label for="info">个人信息:</label>
                    <input type="text" id="info" class="required"/>
                </div>
                
                <div class="sub">
                    <input type="submit" value="提交" id="send"/>
                    <input type="reset" id="reset"/>
                </div>
            </form>
        </div>
        
        <div>
            <div>
                <label for="search">筛选:</label>
                <input id="search" type="text"/>
            </div>
            <table>
                <thead>
                <tr>
                    <th>姓名</th>
                    <th>性别</th>
                    <th>暂住地</th>
                </tr>
                </thead>
                
                <tbody>
                <tr class="group" id="front">
                    <td colspan="3">前端开发组</td>
                </tr>
                <tr class="front-child">
                    <td>张山</td>
                    <td>男</td>
                    <td>泉州</td>
                </tr>
                <tr class="front-child">
                    <td>李州</td>
                    <td>女</td>
                    <td>百胜</td>
                </tr>
                <tr class="front-child">
                    <td>李四</td>
                    <td>男</td>
                    <td>漳州</td>
                </tr>
                <tr class="group" id="back">
                    <td colspan="3">后台开发组</td>
                </tr>
                
                <tr class="back-child">
                    <td>王五</td>
                    <td>男</td>
                    <td>杭州</td>
                </tr>
                <tr class="back-child">
                    <td>李五</td>
                    <td>男</td>
                    <td>厦门</td>
                </tr>
                <tr class="back-child">
                    <td>张一</td>
                    <td>男</td>
                    <td>福州</td>
                </tr>
                <tr class="back-child">
                    <td>张三</td>
                    <td>男</td>
                    <td>福建</td>
                </tr>
                </tbody>
            </table>
        </div>
    </fieldset>
</form>

<div id="tabs">
    <div class="tab_menu">
       <ul>
           <li class="selected">时事</li>
           <li>体育</li>
           <li>娱乐</li>
       </ul>
    </div>
    
    <div class="tab_box">
        <div>时事</div>
        <div class="hide">体育</div>
        <div class="hide">娱乐</div>
    </div>
</div>

<script src="../js/jquery-3.1.1.min.js" type="text/javascript"></script>
<script>
    $(function(){
             
    });
    
    $(function () {
        $("#search").keyup(function () {
            $("td").removeClass("highlight");

            var value = $(this).val();
            if (value) {
                $("table tbody tr").filter(":contains(" + value + ")").find("td").addClass("highlight");
            }
        });
    });

    $(function () {
        $("table tbody tr:even:not('.group')").css("background-color", "#fff38f");
        $("table tbody tr:odd:not('.group')").css("background-color", "#fffffe");

        $("table tbody tr").hover(function () {
            var target = $(this).find("td");
            target.addClass("highlight");
        }, function () {
            var target = $(this).find("td");
            target.removeClass("highlight");
        });

        //单击时增加radio
        $("table tbody tr").click(function () {
            $(this).parent().find("tr td input:radio").remove();
            $(this).parent().find("tr td").removeClass("selected");

            var radioNode = $("<input type='radio' class='selected' checked/>");
            $(this).find("td:first-child").prepend(radioNode);
            $(this).find("td").addClass("selected");
        });

        $("table tbody tr.group").click(function () {
            $('.' + this.id + "-child").toggle();
        });
    });

    function validateEmail(val) {
        var emailReg = /.+@.+\..+/g;
        return emailReg.test(val);
    }

    function showErrorMsg(elem, msg) {
        var parent = $(elem).parent();
        parent.find(".errorMsg").remove();

        var newElem = $("<strong class='errorMsg' style='background-color: red;'>" + msg + "</strong>");
        $(elem).parent().append(newElem);

        setTimeout(function () {
            if (newElem) {
                newElem.remove();
            }
        }, 3000);
    }

    function showInfoMsg(elem, msg) {
        var parent = $(elem).parent();
        parent.find(".infoMsg").remove();

        var newElem = $("<strong class='infoMsg' style='background-color: green;'>" + msg + "</strong>");
        $(elem).parent().append(newElem);

        setTimeout(function () {
            if (newElem) {
                newElem.remove();
            }
        }, 3000);
    }

    $(function () {
        $(".required").after("<strong style='color:red;'> *</strong>");

        //校验邮箱格式
        $("#email").blur(function () {
            if (!validateEmail($(this).val())) {
                showErrorMsg(this, "请输入正确的邮箱格式！");
            }
        }).focus(function () {
            var target = $(this).parent().find(".errorMsg");
            if (target.length > 0) {
                target.remove();
            }
        });

        $("#send").click(function () {
            var result = $(".required").map(function () {
                return $(this).val();
            }).get().reduce(function (result, val) {
                return val && result;
            }, true);

            if (!result) {
                showErrorMsg(this, "请输入所有的必填字段！");
                return false;
            }

            if (!validateEmail($("#email").val())) {
                showErrorMsg(this, "请输入正确的邮箱！");
                return false;
            }

            showErrorMsg(this, "恭喜你，提交成功了！");
        });
    });

    $(function () {
        //双击事件
        $("select option").dblclick(function () {
            var target = $(this).closest(".content").siblings(".content").find("select");
            $(this).appendTo(target);
        });

        //添加到右边或者左边
        $("#add, #remove").click(function () {
            var target = $(this).closest(".content").siblings(".content").find("select");
            $(this).closest(".content").find("option:selected").appendTo(target);
        });

        //全部添加到左边或者右边
        $("#addAll, #removeAll").click(function () {
            var target = $(this).closest(".content").siblings(".content").find("select");
            $(this).closest(".content").find("option").appendTo(target);
        });
    });

    $(function () {
        var group = $("#hobby").find("input:checkbox").filter(":not('#checkAll, #checkNone')");

        $("#checkAll").click(function () {
            $(this).prop("checked", true);
            $("#checkNone").prop("checked", false);

            group.prop("checked", true);
        });

        $("#checkNone").click(function () {
            $(this).prop("checked", true);
            $("#checkAll").prop("checked", false);

            group.prop("checked", false);
        });

        function checkAll() {
            var result = group.map(function () {
                return $(this).prop("checked");
            }).get().reduce(function (result, val) {
                return result && val;
            }, true);

            if (result) {
                $("#checkAll").prop("checked", true);
                $("#checkNone").prop("checked", false);
            }

            return result;
        }

        function checkNone() {
            var result = group.map(function () {
                return $(this).prop("checked");
            }).get().reduce(function (result, val) {
                return result || val;
            }, false);

            if (!result) {
                $("#checkAll").prop("checked", false);
                $("#checkNone").prop("checked", true);
            }

            return !result;
        }

        group.click(function () {
            var all = checkAll();

            var none = checkNone();

            if (!all && !none) {
                $("#checkAll").prop("checked", false);
                $("#checkNone").prop("checked", false);
            }
        });

        $("#checkNot").click(function () {
            group.each(function () {
                if ($(this).prop("checked")) {
                    $(this).prop("checked", false);
                } else {
                    $(this).prop("checked", true);
                }
            });

            checkAll();
            checkNone();
        });

        $("#submit").click(function () {
            var result = group.map(function () {
                if ($(this).prop("checked")) {
                    return $(this).val();
                }
            }).get().join();

            alert("你的爱好是： " + result);
        });

        var infoObj = $("#info");

        $(".up").click(function () {
            if (!infoObj.is(":animated")) {
                infoObj.animate({"scrollTop": "-=50"}, 'slow');
            }
        });

        $(".down").click(function () {
            if (!infoObj.is(":animated")) {
                infoObj.animate({"scrollTop": "+=50"}, 'slow');
            }
        });

        $(".bigger").click(function () {
            if (!infoObj.is(":animated")) {
                if (infoObj.height() < 500) {
                    infoObj.animate({"height": "+=50"}, 'slow');
                }
            }
        });

        $(".smaller").click(function () {
            if (!infoObj.is(":animated")) {
                if (infoObj.height() > 50) {
                    infoObj.animate({"height": "-=50"}, 'slow');
                }
            }
        });
    });
</script>
</body>
</html>